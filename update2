<!DOCTYPE html>
<html lang="en">
<meta name="description" content="D&D 5e Character Sheet Editor">

<meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>D&D Character Sheet</title>
  <style>
    body {
      font-family: 'Georgia', serif;
      background-color: #fdf6ec;
      margin: 0;
      padding: 0;
      color: #2e2e2e;
      line-height: 1.6;
    }
    header {
      background-color: #4e342e;
      color: white;
      padding: 25px 20px;
      text-align: center;
    }
    header h1 {
      margin: 0;
      font-size: 2em;
    }
    .container {
      max-width: 960px;
      margin: auto;
      padding: 20px;
      background-color: white;
      box-shadow: 0 0 10px rgba(0,0,0,0.1);
    }
    h2 {
      border-bottom: 2px solid #ccc;
      padding-bottom: 5px;
      margin-top: 30px;
    }
    .grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
      gap: 20px;
      margin-bottom: 20px;
    }
    .box {
      border: 1px solid #ddd;
      padding: 15px;
      background-color: #f9f9f9;
      border-radius: 8px;
      transition: transform 0.2s, box-shadow 0.2s;
    }
    .box:hover {
      transform: translateY(-3px);
      box-shadow: 0 4px 8px rgba(0,0,0,0.1);
    }
    label {
      font-weight: bold;
      display: block;
      margin-bottom: 4px;
    }
    input, textarea, select {
      width: 100%;
      padding: 6px;
      border: 1px solid #ccc;
      border-radius: 4px;
      font-family: inherit;
      font-size: 1em;
      box-sizing: border-box;
      opacity: 0.6;
      transition: opacity 0.3s;
    }
    input:focus, textarea:focus, select:focus,
    input.changed, textarea.changed, select.changed {
      opacity: 1;
    }
    textarea {
      resize: vertical;
      min-height: 60px;
    }
    ul {
      padding-left: 20px;
    }
    .checkbox-list {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
    }
    .checkbox-list label {
      display: flex;
      align-items: center;
      font-weight: normal;
    }
    .checkbox-list input {
      margin-right: 6px;
    }
    .back-link {
      display: block;
      margin-top: 30px;
      text-align: center;
    }
    .back-link a {
      text-decoration: none;
      color: #4e342e;
      font-weight: bold;
    }
    .back-link a:hover {
      text-decoration: underline;
    }
    @media (max-width: 600px) {
  header h1 {
    font-size: 1.5em;
  }
  .container {
    padding: 20px 10px;
  }
  .box {
    padding: 10px;
  }
  .checkbox-list label {
    margin-bottom: 10px;
  }
}
      
  @media print {
  button,
  .back-link,
  .checkbox-list input[type="checkbox"],
  [aria-label="Print Character Sheet"] {
    display: none !important;
  }
  input, textarea, select {
    border: none !important;
    background: none !important;
    box-shadow: none !important;
    opacity: 1 !important;
  }
  body {
    background: white !important;
    color: black !important;
  }
  .container {
    box-shadow: none !important;
  }
}
  input, textarea, select {
    border: none !important;
    background: none !important;
    box-shadow: none !important;
    opacity: 1 !important;
  }
  body {
    background: white !important;
    color: black !important;
  }
  .container {
    box-shadow: none !important;
  }
.print-preview-mode * {
  color-adjust: exact;
  -webkit-print-color-adjust: exact;
  print-color-adjust: exact;
}

.print-preview-mode .back-link,
.print-preview-mode button {
  display: none !important;
}

@media (max-width: 400px) {
  .box {
    padding: 8px;
    font-size: 0.9em;
  }
  label {
    font-size: 0.9em;
  }
  input, textarea, select {
    font-size: 0.9em;
  }
}
</style>



  <header>
    <h1>Dungeons & Dragons Character Sheet</h1>
  </header>

  <div class="container">
    <div class="grid">
      <div class="box">
        <label for="charName">Character Name:</label>
        <input type="text" id="charName" value="" />
      </div>
      
<div class="box">
  <label for="subclassLevel">Subclass:</label>
  <select id="subclassLevel">
    <option value="">-- Select Subclass --</option>
    <option data-parent="Artificer">Armorer</option>
    <option data-parent="Artificer">Alchemist</option>
    <option data-parent="Artificer">Artillerist</option>
    <option data-parent="Artificer">Battle Smith</option>

    <option data-parent="Barbarian">Berserker</option>
    <option data-parent="Barbarian">Totem Warrior</option>
    <option data-parent="Barbarian">Ancestral Guardian</option>
    <option data-parent="Barbarian">Storm Herald</option>
    <option data-parent="Barbarian">Zealot</option>
    <option data-parent="Barbarian">Beast</option>
    <option data-parent="Barbarian">Wild Soul</option>
    <option data-parent="Barbarian">Battlerager</option>

    <option data-parent="Bard">College of Lore</option>
    <option data-parent="Bard">College of Valor</option>
    <option data-parent="Bard">College of Creation</option>
    <option data-parent="Bard">College of Glamor</option>
    <option data-parent="Bard">College of Swords</option>
    <option data-parent="Bard">College of Whispers</option>
    <option data-parent="Bard">College of Eloquence</option>
    <option data-parent="Bard">College of Spirits</option>

    <option data-parent="Cleric">Knowledge Domain</option>
    <option data-parent="Cleric">Life Domain</option>
    <option data-parent="Cleric">Light Domain</option>
    <option data-parent="Cleric">Nature Domain</option>
    <option data-parent="Cleric">Tempest Domain</option>
    <option data-parent="Cleric">Trickery Domain</option>
    <option data-parent="Cleric">War Domain</option>
    <option data-parent="Cleric">Death Domain</option>
    <option data-parent="Cleric">Twilight Domain</option>
    <option data-parent="Cleric">Order Domain</option>
    <option data-parent="Cleric">Forge Domain</option>
    <option data-parent="Cleric">Grave Domain</option>
    <option data-parent="Cleric">Peace Domain</option>
    <option data-parent="Cleric">Arcane Domain</option>

    <option data-parent="Druid">Circle of the Land</option>
    <option data-parent="Druid">Circle of the Moon</option>
    <option data-parent="Druid">Circle of Dreams</option>
    <option data-parent="Druid">Circle of the Shepherd</option>
    <option data-parent="Druid">Circle of Spores</option>
    <option data-parent="Druid">Circle of Stars</option>
    <option data-parent="Druid">Circle of Wildfire</option>

    <option data-parent="Fighter">Champion</option>
    <option data-parent="Fighter">Battle Master</option>
    <option data-parent="Fighter">Eldritch Knight</option>
    <option data-parent="Fighter">Arcane Archer</option>
    <option data-parent="Fighter">Cavalier</option>
    <option data-parent="Fighter">Samurai</option>
    <option data-parent="Fighter">Psi Warrior</option>
    <option data-parent="Fighter">Rune Knight</option>
    <option data-parent="Fighter">Echo Fighter</option>
    <option data-parent="Fighter">Purple Dragon Knight</option>

    <option data-parent="Monk">Way of the Open Hand</option>
    <option data-parent="Monk">Way of Shadow</option>
    <option data-parent="Monk">Way of the Four Elements</option>
    <option data-parent="Monk">Way of Mercy</option>
    <option data-parent="Monk">Way of the Astral Self</option>
    <option data-parent="Monk">Way of the Drunken Master</option>
    <option data-parent="Monk">Way of the Kensei</option>
    <option data-parent="Monk">Way of the Sun Soul</option>
    <option data-parent="Monk">Way of Long Death</option>
    <option data-parent="Monk">Way of the Ascendant Dragon</option>

    <option data-parent="Paladin">Oath of Devotion</option>
    <option data-parent="Paladin">Oath of the Ancients</option>
    <option data-parent="Paladin">Oath of Vengeance</option>
    <option data-parent="Paladin">Oathbreaker</option>
    <option data-parent="Paladin">Oath of Conquest</option>
    <option data-parent="Paladin">Oath of Redemption</option>
    <option data-parent="Paladin">Oath of Glory</option>
    <option data-parent="Paladin">Oath of the Watchers</option>
    <option data-parent="Paladin">Oath of the Crown</option>

    <option data-parent="Ranger">Fey Wanderer</option>
    <option data-parent="Ranger">Swarmkeeper</option>
    <option data-parent="Ranger">Gloom Stalker</option>
    <option data-parent="Ranger">Horizon Walker</option>
    <option data-parent="Ranger">Monster Slayer</option>
    <option data-parent="Ranger">Hunter</option>
    <option data-parent="Ranger">Beast Master</option>
    <option data-parent="Ranger">Drakewarden</option>

    <option data-parent="Rogue">Thief</option>
    <option data-parent="Rogue">Assassin</option>
    <option data-parent="Rogue">Arcane Trickster</option>
    <option data-parent="Rogue">Inquisitive</option>
    <option data-parent="Rogue">Mastermind</option>
    <option data-parent="Rogue">Scout</option>
    <option data-parent="Rogue">Swashbuckler</option>
    <option data-parent="Rogue">Phantom</option>
    <option data-parent="Rogue">Soulknife</option>

    <option data-parent="Sorcerer">Aberrant Mind</option>
    <option data-parent="Sorcerer">Clockwork Soul</option>
    <option data-parent="Sorcerer">Divine Soul</option>
    <option data-parent="Sorcerer">Shadow Magic</option>
    <option data-parent="Sorcerer">Storm Sorcery</option>
    <option data-parent="Sorcerer">Draconic Bloodline</option>
    <option data-parent="Sorcerer">Wild Magic</option>

    <option data-parent="Warlock">The Archfey</option>
    <option data-parent="Warlock">The Fiend</option>
    <option data-parent="Warlock">The Great Old One</option>
    <option data-parent="Warlock">The Celestial</option>
    <option data-parent="Warlock">Undying</option>
    <option data-parent="Warlock">The Hexblade</option>
    <option data-parent="Warlock">The Fathomless</option>
    <option data-parent="Warlock">The Genie</option>
    <option data-parent="Warlock">The Undead</option>

    <option data-parent="Wizard">School of Abjuration</option>
    <option data-parent="Wizard">School of Conjuration</option>
    <option data-parent="Wizard">School of Divination</option>
    <option data-parent="Wizard">School of Enchantment</option>
    <option data-parent="Wizard">School of Evocation</option>
    <option data-parent="Wizard">School of Illusion</option>
    <option data-parent="Wizard">School of Necromancy</option>
    <option data-parent="Wizard">School of Transmutation</option>
    <option data-parent="Wizard">School of Graviturgy</option>
    <option data-parent="Wizard">School of Chronurgy</option>
    <option data-parent="Wizard">War Magic</option>
    <option data-parent="Wizard">Bladesinging</option>
    <option data-parent="Wizard">Order of Scribes</option>
  </select>
</div>
      <div class="box">
  <label for="race">Race:</label>
  <select id="race">
  <option value="">-- Select Race --</option>
  <option>Dragonborn</option>
  <option>Dwarf</option>
  <option>Elf</option>
  <option>Gnome</option>
  <option>Half-Elf</option>
  <option>Halfling</option>
  <option>Half-Orc</option>
  <option>Human</option>
  <option>Tiefling</option>
  <option>Aarakocra</option>
  <option>Aasimar</option>
  <option>Bugbear</option>
  <option>Centaur</option>
  <option>Changeling</option>
  <option>Custom Lineage</option>
  <option>Duergar</option>
  <option>Fairy</option>
  <option>Firbolg</option>
  <option>Genasi</option>
  <option>Gith</option>
  <option>Goblin</option>
  <option>Goliath</option>
  <option>Grung</option>
  <option>Harengon</option>
  <option>Hobgoblin</option>
  <option>Kalashtar</option>
  <option>Kenku</option>
  <option>Kobold</option>
  <option>Leonin</option>
  <option>Lizardfolk</option>
  <option>Lokathah</option>
  <option>Loxodon</option>
  <option>Minotaur</option>
  <option>Orc</option>
  <option>Owlin</option>
  <option>Satyr</option>
  <option>Shifter</option>
  <option>Simic Hybrid</option>
  <option>Tabaxi</option>
  <option>Tortle</option>
  <option>Triton</option>
  <option>Vedalken</option>
  <option>Verdan</option>
  <option>Warforged</option>
  <option>Yuan-ti</option>
</select>
</div>
<div class="box">
  <label for="lineage">Lineage:</label>
  <select id="lineage">
    <option value="">-- Select Lineage --</option>
    <option>Dhampir</option>
    <option>Hexblood</option>
    <option>Reborn</option>
  </select>
</div>
<div class="box">
  <label for="raceSubtype">Race Subtype:</label>
  <select id="raceSubtype">
    <option value="">-- Select Subtype --</option>
    <option data-parent="Dragonborn">Chromatic</option>
    <option data-parent="Dragonborn">Gem</option>
    <option data-parent="Dragonborn">Metallic</option>
    <option data-parent="Dragonborn">Ravenite</option>

    <option data-parent="Dwarf">Hill</option>
    <option data-parent="Dwarf">Mountain</option>
    <option data-parent="Dwarf">Duergar (Grey)</option>

    <option data-parent="Elf">Dark (Drow)</option>
    <option data-parent="Elf">Eladrin (DMG)</option>
    <option data-parent="Elf">Eladrin (MToF)</option>
    <option data-parent="Elf">High</option>
    <option data-parent="Elf">Pallid</option>
    <option data-parent="Elf">Shadar Kai</option>
    <option data-parent="Elf">Sea</option>
    <option data-parent="Elf">Wood</option>

    <option data-parent="Gnome">Deep (Svirfneblin)</option>
    <option data-parent="Gnome">Forest</option>
    <option data-parent="Gnome">Rock</option>

    <option data-parent="Half-Elf">Aquatic</option>
    <option data-parent="Half-Elf">Drow</option>
    <option data-parent="Half-Elf">Moon/Sun</option>
    <option data-parent="Half-Elf">Wood</option>
    <option data-parent="Half-Elf">Standard</option>

    <option data-parent="Halfling">Ghostwise</option>
    <option data-parent="Halfling">Lightfoot</option>
    <option data-parent="Halfling">Lotusden</option>
    <option data-parent="Halfling">Stout</option>

    <option data-parent="Human">Standard</option>
    <option data-parent="Human">Variant</option>

    <option data-parent="Tiefling">Asmodeus</option>
    <option data-parent="Tiefling">Baalzebul</option>
    <option data-parent="Tiefling">Dispater</option>
    <option data-parent="Tiefling">Fierna</option>
    <option data-parent="Tiefling">Glasya</option>
    <option data-parent="Tiefling">Levistus</option>
    <option data-parent="Tiefling">Mammon</option>
    <option data-parent="Tiefling">Mephistopheles</option>
    <option data-parent="Tiefling">Standard</option>
    <option data-parent="Tiefling">Variant</option>
    <option data-parent="Tiefling">Zariel</option>

    <option data-parent="Aasimar">DMG</option>
    <option data-parent="Aasimar">Fallen</option>
    <option data-parent="Aasimar">Protector</option>
    <option data-parent="Aasimar">Scourge</option>

    <option data-parent="Genasi">Air</option>
    <option data-parent="Genasi">Earth</option>
    <option data-parent="Genasi">Fire</option>
    <option data-parent="Genasi">Water</option>

    <option data-parent="Gith">Githyanki</option>
    <option data-parent="Gith">Githzerai</option>

    <option data-parent="Orc">Volo's</option>
    <option data-parent="Orc">Eberron</option>

    <option data-parent="Shifter">Beasthide</option>
    <option data-parent="Shifter">Longtooth</option>
    <option data-parent="Shifter">Swiftstride</option>
    <option data-parent="Shifter">Wildhunt</option>
  </div>
<div class="box">
  <label for="background">Background:</label>
        <input type="text" id="background" value="" />
      </div>
      <div class="box">
        <label for="alignment">Alignment:</label>
        <select id="alignment">
          <option value="">-- Select Alignment --</option>
          <option>Lawful Good</option>
          <option>Neutral Good</option>
          <option>Chaotic Good</option>
          <option>Lawful Neutral</option>
          <option>True Neutral</option>
          <option>Chaotic Neutral</option>
          <option>Lawful Evil</option>
          <option>Neutral Evil</option>
          <option>Chaotic Evil</option>
        </select>
      </div>
      <div class="box">
        <label for="xp">Experience Points:</label>
        <input type="number" id="xp" value="" />
      </div>
    </div>

    <h2>Ability Scores</h2>
    <div class="grid">
      <div class="box"><label for="str">STR:</label> <input type="number" id="str" value="" /></div>
      <div class="box"><label for="dex">DEX:</label> <input type="number" id="dex" value="" /></div>
      <div class="box"><label for="con">CON:</label> <input type="number" id="con" value="" /></div>
      <div class="box"><label for="int">INT:</label> <input type="number" id="int" value="" /></div>
      <div class="box"><label for="wis">WIS:</label> <input type="number" id="wis" value="" /></div>
      <div class="box"><label for="cha">CHA:</label> <input type="number" id="cha" value="" /></div>
    </div>

    <h2>Skills</h2>
    <div class="checkbox-list">
      <label><input type="checkbox" id="skill-stealth"> Stealth</label>
      <label><input type="checkbox" id="skill-survival"> Survival</label>
      <label><input type="checkbox" id="skill-perception"> Perception</label>
      <label><input type="checkbox" id="skill-athletics"> Athletics</label>
      <label><input type="checkbox" id="skill-arcana"> Arcana</label>
    </div>

    <h2>Languages</h2>
    <div class="checkbox-list">
      <label><input type="checkbox" id="lang-common"> Common</label>
      <label><input type="checkbox" id="lang-elvish"> Elvish</label>
      <label><input type="checkbox" id="lang-sylvan"> Sylvan</label>
      <label><input type="checkbox" id="lang-dwarvish"> Dwarvish</label>
      <label><input type="checkbox" id="lang-draconic"> Draconic</label>
    </div>

    <h2>Equipment</h2>
<textarea id="equipment" placeholder="Enter your character's equipment..."></textarea>

    <h2>Features & Traits</h2>
<textarea id="features" placeholder="Enter your character's features and traits..."></textarea>

    <div class="back-link">
      <a href="index.html">← Back to Home</a>
    </div>
  </div>
<footer style="text-align: center; margin: 30px 0; display: flex; flex-wrap: wrap; gap: 10px; justify-content: center; z-index: auto; position: static; background: none;">

<button onclick="window.print()" aria-label="Print Character Sheet" style="padding: 10px 20px; background-color: #6a1b9a; color: white; border: none; border-radius: 5px; cursor: pointer;">
  🖨️ Print Character Sheet (PDF)
</button>

<script>
  const fields = document.querySelectorAll("input[type='text'], input[type='number'], textarea, select");
  const checkboxes = document.querySelectorAll("input[type='checkbox']");

  window.addEventListener("DOMContentLoaded", () => {
    [...fields, ...checkboxes].forEach(field => {
      const saved = localStorage.getItem(field.id);
      if (saved !== null) {
        if (field.type === 'checkbox') {
          field.checked = saved === "true";
        } else {
          field.value = saved;
          field.classList.add("changed");
        }
      }
    });
  });

  fields.forEach(field => {
    field.addEventListener("input", () => {
      localStorage.setItem(field.id, field.value);
      field.classList.add("changed");
    });
    field.addEventListener("keydown", function (e) {
      if (e.key === "Enter") {
        e.preventDefault();
        localStorage.setItem(this.id, this.value);
        this.classList.add("changed");
      }
    });
  });

  checkboxes.forEach(box => {
    box.addEventListener("change", () => {
      localStorage.setItem(box.id, box.checked);
    });
  });

  function updateSelectOptions(parentSelectId, childSelectId, placeholderPrefix) {
    const parent = document.getElementById(parentSelectId);
    const child = document.getElementById(childSelectId);
    if (!parent || !child) return;

    parent.addEventListener("change", () => {
      const selectedValue = parent.value;
      const defaultOption = child.querySelector("option[value='']");
      if (defaultOption) {
        defaultOption.textContent = selectedValue ? `-- Select ${placeholderPrefix} for ${selectedValue} --` : `-- Select ${placeholderPrefix} --`;
      }
      Array.from(child.options).forEach(option => {
        if (!option.dataset.parent) return;
        option.hidden = option.dataset.parent !== selectedValue;
      });
      child.value = "";
    });
  }

  updateSelectOptions("race", "raceSubtype", "Subtype");
  updateSelectOptions("classLevel", "subclassLevel", "Subclass");

  document.getElementById("lineage").addEventListener("change", function () {
    const selected = this.value;
    const defaultOption = this.querySelector("option[value='']");
    if (defaultOption) {
      defaultOption.textContent = selected ? `-- Selected: ${selected} --` : "-- Select Lineage --";
    }
  });

  document.getElementById("alignment").addEventListener("change", function () {
    const selected = this.value;
    const defaultOption = this.querySelector("option[value='']");
    if (defaultOption) {
      defaultOption.textContent = selected ? `-- Selected: ${selected} --` : "-- Select Alignment --";
    }
  });

  function clearData() {
    localStorage.clear();
    const message = document.createElement('div');
    message.textContent = "🗑️ All data has been cleared.";
    message.style = "margin-top: 15px; color: red; font-weight: bold; text-align: center;";
    document.body.appendChild(message);
    setTimeout(() => {
      message.remove();
      location.reload();
    }, 2500);
  }

  function downloadData() {
    const data = {};
    [...fields, ...checkboxes].forEach(field => {
      if (field.type === 'checkbox') {
        data[field.id] = field.checked;
      } else {
        data[field.id] = field.value;
      }
    });
    const blob = new Blob([JSON.stringify(data, null, 2)], { type: 'application/json' });
    const url = URL.createObjectURL(blob);
    const a = document.createElement('a');
    a.href = url;
    a.download = 'character-sheet.json';
    document.body.appendChild(a);
    a.click();
    document.body.removeChild(a);

    const message = document.createElement('div');
    message.textContent = "📁 Character sheet downloaded!";
    message.style = "margin-top: 15px; color: green; font-weight: bold; text-align: center;";
    document.body.appendChild(message);
    setTimeout(() => message.remove(), 4000);
    URL.revokeObjectURL(url);
  }

  function uploadData() {
    const input = document.createElement('input');
    input.type = 'file';
    input.accept = 'application/json';
    input.addEventListener('change', () => {
      const file = input.files[0];
      if (!file) return;
      const reader = new FileReader();
      reader.onload = e => {
        const message = document.createElement('div');
        message.textContent = "✅ Character sheet loaded successfully!";
        message.style = "margin-top: 15px; color: green; font-weight: bold; text-align: center;";
        document.body.appendChild(message);
        setTimeout(() => message.remove(), 4000);
        try {
          const data = JSON.parse(e.target.result);
          Object.entries(data).forEach(([key, value]) => {
            const field = document.getElementById(key);
            if (field) {
              if (field.type === 'checkbox') {
                field.checked = value;
              } else {
                field.value = value;
                field.classList.add("changed");
              }
              localStorage.setItem(key, value);
            }
          });
        } catch (err) {
          alert("Failed to load character sheet. Make sure it's a valid JSON file.");
        }
      };
      reader.readAsText(file);
    });
    input.click();
  }

  

</body>
</html>
